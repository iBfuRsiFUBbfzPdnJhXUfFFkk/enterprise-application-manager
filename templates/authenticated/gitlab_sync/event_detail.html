{% extends 'authenticated/base_authenticated.html' %}
{% block title %}{{ event.action_name }} - GitLab Event{% endblock %}
{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="mb-8"><div class="flex items-center justify-between mb-4"><h1 class="text-3xl font-bold text-gray-900">{{ event.action_name|default:"Event" }}</h1><div class="flex space-x-2"><a href="{% url 'gitlab_sync_events' %}?search={{ event.action_name }}" class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors">Similar Events</a><a href="{% url 'gitlab_sync_events' %}" class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors">Back</a><a href="{% url 'gitlab_sync_dashboard' %}" class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors">Dashboard</a></div></div>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        <div class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Event Details</h2><dl class="space-y-3"><div><dt class="text-sm font-medium text-gray-500">Action</dt><dd class="text-sm text-gray-900 mt-1">{{ event.action_name|default:"N/A" }}</dd></div><div><dt class="text-sm font-medium text-gray-500">Target Type</dt><dd class="text-sm text-gray-900 mt-1">{{ event.target_type|default:"N/A" }}</dd></div>{% if event.target_title %}<div><dt class="text-sm font-medium text-gray-500">Target Title</dt><dd class="text-sm text-gray-900 mt-1">{{ event.target_title }}</dd></div>{% endif %}{% if event.target_id %}<div><dt class="text-sm font-medium text-gray-500">Target ID</dt><dd class="text-sm text-gray-900 mt-1">{{ event.target_id }}{% if event.target_iid %} (IID: {{ event.target_iid }}){% endif %}</dd></div>{% endif %}{% if event.project %}<div><dt class="text-sm font-medium text-gray-500">Project</dt><dd class="text-sm mt-1"><a href="{% url 'gitlab_sync_project_detail' event.project.id %}" class="text-blue-600 hover:text-blue-800">{{ event.project.path_with_namespace }}</a></dd></div>{% endif %}{% if event.author %}<div><dt class="text-sm font-medium text-gray-500">Author</dt><dd class="text-sm mt-1"><a href="{% url 'gitlab_sync_user_detail' event.author.id %}" class="text-blue-600 hover:text-blue-800">{{ event.author.name }}</a></dd></div>{% endif %}</dl></div>
        <div class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Timestamps</h2><dl class="space-y-3">{% if event.created_at %}<div><dt class="text-sm font-medium text-gray-500">Created</dt><dd class="text-sm text-gray-900 mt-1">{{ event.created_at|date:"M d, Y H:i" }}</dd></div>{% endif %}</dl></div>
    </div>
    {% if event.push_data_commit_count or event.push_data_action or event.push_data_ref %}<div class="bg-white rounded-lg shadow p-6 mb-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Push Data</h2><dl class="space-y-3">{% if event.push_data_commit_count %}<div><dt class="text-sm font-medium text-gray-500">Commit Count</dt><dd class="text-sm text-gray-900 mt-1">{{ event.push_data_commit_count }}</dd></div>{% endif %}{% if event.push_data_action %}<div><dt class="text-sm font-medium text-gray-500">Action</dt><dd class="text-sm text-gray-900 mt-1">{{ event.push_data_action }}</dd></div>{% endif %}{% if event.push_data_ref_type %}<div><dt class="text-sm font-medium text-gray-500">Ref Type</dt><dd class="text-sm text-gray-900 mt-1">{{ event.push_data_ref_type }}</dd></div>{% endif %}{% if event.push_data_ref %}<div><dt class="text-sm font-medium text-gray-500">Ref</dt><dd class="text-sm font-mono text-gray-900 mt-1">{{ event.push_data_ref }}</dd></div>{% endif %}{% if event.push_data_commit_title %}<div><dt class="text-sm font-medium text-gray-500">Commit Title</dt><dd class="text-sm text-gray-900 mt-1">{{ event.push_data_commit_title }}</dd></div>{% endif %}{% if event.push_data_commit_from %}<div><dt class="text-sm font-medium text-gray-500">Commit From</dt><dd class="text-sm font-mono text-gray-900 mt-1">{{ event.push_data_commit_from }}</dd></div>{% endif %}{% if event.push_data_commit_to %}<div><dt class="text-sm font-medium text-gray-500">Commit To</dt><dd class="text-sm font-mono text-gray-900 mt-1">{{ event.push_data_commit_to }}</dd></div>{% endif %}</dl></div>{% endif %}
</div>
{% endblock %}
